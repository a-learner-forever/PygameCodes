import pygame
import random

pygame.init()

# Screen setup
WIDTH, HEIGHT = 600, 400
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Single Sprite â€“ No Groups")

clock = pygame.time.Clock()

# Sprite properties
sprite_size = 40
sprite_color = [255, 0, 0]

sprite_surface = pygame.Surface((sprite_size, sprite_size))
sprite_surface.fill(sprite_color)

sprite_rect = sprite_surface.get_rect()
sprite_rect.x = random.randint(0, WIDTH - sprite_size)
sprite_rect.y = random.randint(0, HEIGHT - sprite_size)

velocity = [3, 3]

running = True
while running:
    clock.tick(60)

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    # Move sprite
    sprite_rect.x += velocity[0]
    sprite_rect.y += velocity[1]

    # Collision with left or right wall
    if sprite_rect.left <= 0 or sprite_rect.right >= WIDTH:
        velocity[0] *= -1
        sprite_color = [random.randint(0,255), random.randint(0,255), random.randint(0,255)]
        sprite_surface.fill(sprite_color)

    # Collision with top or bottom wall
    if sprite_rect.top <= 0 or sprite_rect.bottom >= HEIGHT:
        velocity[1] *= -1
        sprite_color = [random.randint(0,255), random.randint(0,255), random.randint(0,255)]
        sprite_surface.fill(sprite_color)

    # Draw
    screen.fill((30, 30, 30))
    screen.blit(sprite_surface, sprite_rect)
    pygame.display.flip()

pygame.quit()
